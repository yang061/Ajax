<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      /*  传参方式区别：get是url传参，post是请求体传参
        1.Ajax发送get请求参数：在url后面拼接
        格式：url?key=value 
         * 参数在url中，安全性不高
        2.Ajax发送post请求：
          区别
           (1)post请求需要单独设置请求头：不需要记，固定格式，建议复制粘贴
           xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded')
          （2）post参数在xhr.send()方法中发送
          格式：xhr.send('key=value')
          * 注意：不要加前面的?
        */

      // (1)创建xhr
      let xhr = new XMLHttpRequest()
      // (2)设置请求方法和请求地址
      xhr.open('post', 'https://autumnfish.cn/api/user/register')
      // (3)设置请求
      xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded')
      // (4)发送请求
      xhr.send('username=张')
      // (5)注册响应事件
      xhr.onload = function () {
        console.log(xhr.responseText)
      }
    </script>
  </body>
</html>
